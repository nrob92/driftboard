declare module 'libraw-wasm' {
  interface LibRawSettings {
    bright?: number;
    threshold?: number;
    autoBrightThr?: number;
    adjustMaximumThr?: number;
    expShift?: number;
    expPreser?: number;
    halfSize?: boolean;
    fourColorRgb?: boolean;
    highlight?: number;
    useAutoWb?: boolean;
    useCameraWb?: boolean;
    useCameraMatrix?: number;
    outputColor?: number;
    outputBps?: number;
    outputTiff?: boolean;
    outputFlags?: number;
    userFlip?: number;
    userQual?: number;
    userBlack?: number;
    userCblack?: number[];
    userSat?: number;
    medPasses?: number;
    noAutoBright?: boolean;
    useFujiRotate?: number;
    greenMatching?: boolean;
    dcbIterations?: number;
    dcbEnhanceFl?: boolean;
    fbddNoiserd?: number;
    expCorrec?: boolean;
    noAutoScale?: boolean;
    noInterpolation?: boolean;
    greybox?: number[] | null;
    cropbox?: number[] | null;
    aber?: number[] | null;
    gamm?: number[] | null;
    userMul?: number[] | null;
    outputProfile?: string | null;
    cameraProfile?: string | null;
    badPixels?: string | null;
    darkFrame?: string | null;
  }

  interface ImageData {
    data: Uint8Array;
    width: number;
    height: number;
  }

  interface Metadata {
    make?: string;
    model?: string;
    software?: string;
    timestamp?: number;
    artist?: string;
    iso_speed?: number;
    shutter?: number;
    aperture?: number;
    focal_len?: number;
    [key: string]: unknown;
  }

  class LibRaw {
    constructor();
    open(data: Uint8Array, settings?: LibRawSettings): Promise<void>;
    metadata(fullOutput?: boolean): Promise<Metadata>;
    imageData(): Promise<ImageData>;
  }

  export default LibRaw;
}
